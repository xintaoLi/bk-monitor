# 日志检索页面 E2E 测试 - 测试 Prompts

## 页面加载冒烟测试

作为测试工程师，请执行日志检索页面的冒烟测试：

1. 打开检索页面 http://appdev.woa.com:8001//retrieve
2. 等待页面加载完成（检查 .v3-bklog-root 元素存在）
3. 验证以下核心组件已渲染：
   - 工具栏区域（索引集选择器、时间选择器）
   - 搜索栏区域
   - 结果展示区域
4. 验证页面无 JavaScript 错误
5. 截图保存当前页面状态

**预期结果**：页面正常加载，所有核心组件可见，无控制台错误

---

## 基础日志检索流程

作为测试工程师，请执行完整的日志检索流程测试：

1. 打开检索页面
2. 等待索引集列表加载完成
3. 如果有索引集选择器，选择第一个可用的索引集
4. 在搜索栏中输入查询语句：*
5. 点击搜索按钮或按 Enter 键执行搜索
6. 等待搜索结果返回
7. 验证结果列表区域显示日志数据
8. 验证趋势图区域正常渲染

**可用 test-id**：
- v3-search-bar: 搜索栏
- search-btn: 搜索按钮
- index-set-choice: 索引集选择器

**预期结果**：成功执行搜索并显示日志结果

---

## 搜索模式切换测试

作为测试工程师，请测试搜索模式切换功能：

1. 打开检索页面并等待加载完成
2. 确认当前处于 UI 模式（默认）
3. 点击模式切换按钮，切换到 SQL 模式
4. 验证搜索栏变为 SQL 输入模式
5. 输入 SQL 查询语句：log: error
6. 执行搜索
7. 再次点击模式切换，切回 UI 模式
8. 验证搜索栏恢复为 UI 模式

**可用 test-id**：
- mode-switch: 模式切换按钮
- v3-search-bar: 搜索栏

**预期结果**：UI/SQL 模式切换正常，搜索功能在两种模式下均可用

---

## 结果Tab切换测试

作为测试工程师，请测试结果展示区域的 Tab 切换功能：

1. 打开检索页面并执行一次搜索
2. 确认当前处于「原始日志」Tab
3. 点击「日志聚类」Tab（如果可用）
4. 验证日志聚类视图正常显示
5. 点击「图表分析」Tab（如果可用）
6. 验证图表分析视图正常显示
7. 点击「Grep模式」Tab（如果可用）
8. 验证 Grep 模式视图正常显示
9. 点击「原始日志」Tab 返回

**可用 test-id**：
- search-result-tab: 结果 Tab 组件

**预期结果**：所有可用的 Tab 切换正常，对应视图正确渲染

---

## 收藏夹侧边栏测试

作为测试工程师，请测试收藏夹侧边栏功能：

1. 打开检索页面
2. 找到收藏夹开关按钮（收藏夹图标）
3. 点击按钮展开收藏夹侧边栏
4. 验证侧边栏正常显示
5. 查看收藏夹列表是否有收藏项
6. 再次点击按钮收起侧边栏
7. 验证侧边栏已收起

**可用 test-id**：
- collection-box: 收藏夹开关按钮

**预期结果**：收藏夹侧边栏展开/收起功能正常

---

## 时间范围选择测试

作为测试工程师，请测试时间范围选择功能：

1. 打开检索页面
2. 找到时间范围选择器
3. 点击打开时间选择下拉框
4. 选择「近 1 小时」选项
5. 验证时间范围已更新
6. 执行搜索
7. 验证搜索结果按新时间范围过滤

**可用 test-id**：
- time-setting: 时间选择器

**预期结果**：时间范围选择正常，搜索结果按时间过滤

---

## 带索引集参数访问测试

作为测试工程师，请测试带索引集 ID 参数的页面访问：

1. 打开检索页面并带上索引集 ID 参数：http://appdev.woa.com:8001//retrieve/1
2. 等待页面加载完成
3. 验证索引集选择器显示了对应的索引集
4. 验证页面正常渲染，无错误
5. 执行一次搜索验证功能正常

**预期结果**：带参数访问时自动选中对应索引集，页面功能正常
